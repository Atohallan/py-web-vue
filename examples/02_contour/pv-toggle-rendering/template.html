<v-app>
  <v-app-bar app>
    <v-icon
      @click="$refs.view.resetCamera()"
      class="pr-4"
    >
    mdi-menu
    </v-icon>
    <span class="title">Contour Application - Remote rendering</span>

    <v-spacer />
    <v-btn-toggle :value="get('override')" @change="set('override', $event)" dense mandatory>
      <v-btn value="auto">
        <v-icon>mdi-autorenew</v-icon>
      </v-btn>

      <v-btn value="local">
        <v-icon>mdi-rotate-3d</v-icon>
      </v-btn>

      <v-btn value="remote">
        <v-icon>mdi-image</v-icon>
      </v-btn>
    </v-btn-toggle>
    <v-spacer />

    <v-slider
      hide-details
      :value="get('contour_value')"
      @input="set('contour_value', $event)"
      :max="get('data_range')[1]"
      :min="get('data_range')[0]"
      :step="1"
      style="max-width: 300px"
      @start="trigger('start')"
      @end="trigger('end')"
    />
    <v-switch hide-details v-model="$vuetify.theme.dark" />
    <v-btn icon @click="$refs.view.resetCamera()">
      <v-icon>mdi-crop-free</v-icon>
    </v-btn>
    <v-progress-linear indeterminate absolute bottom :active="busy" />
  </v-app-bar>
  <v-main>
    <v-container fluid fill-height class="pa-0">
      <vtk-remote-local-view
        ref="view"
        namespace="view"
        :mode="get('view.mode')"
        :mode="get('override') === 'auto' ? get('view.mode') : get('override')"

        id="-1"
        :wsClient="wsClient"
      />
    </v-container>
  </v-main>
</v-app>
